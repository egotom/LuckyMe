{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\App.svelte",
    "..\\..\\ticket.svelte"
  ],
  "sourcesContent": [
    "<script>\nimport { onMount } from 'svelte';\nimport { writable } from 'svelte/store';\nimport Ticket from './component/ticket.svelte';\nlet s=[], luckMe=[], lst, me=[],code=33333, all=[];\nlet  modal=false, confirm=false;\nlet lb=\"B\", error=\"\", dell=\"\";\nlet soltMax=1;\nlet luckMax=5;\nlet ts=null;\nconst LM = writable(JSON.parse(localStorage.getItem(\"luckMe\"))|| []);\nconst unsubscribe= LM.subscribe(value => {\n\tluckMe = value;\n});\n\nfunction Init(){\n\ts=[];\n\tfor(let i=0;i<luckMax ;i++){\n\t\tlet col=[];\n\t\tfor(let j=0;j<soltMax;j++){\n\t\t\tcol.push(0);\n\t\t}\n\t\ts.push({\"dpt\":\"\",\"name\":\"\",\"desc\":\"\",\"ts\":\"\",\"no\":\"\",\"green\":true});\n\t}\n}\n\nfunction Pause(){\n\twindow.clearTimeout(ts);\n\tts=null;\n}\n\nfunction Start(){\n\ts=[];\n\tts=window.setTimeout(Start,2);\n\tfor(let i=0 ; i<luckMax ;){\n\t\tlet n1=\"\";\n\t\tfor(let j=0; j<soltMax; j++){\n\t\t\tlet number=Math.floor(Math.random()*10);\n\t\t\tn1+=number.toString();\n\t\t}\n\t\tif(luckMe.indexOf(n1)>-1 || all.indexOf(n1)==-1)\n\t\t\tcontinue;\n\t\tlet n2=null;\n\t\tfor(let d in lst){\n\t\t\tif(lst[d][6]==n1){\n\t\t\t\tn2={\"dpt\":lst[d][2] ,\"name\":lst[d][3] ,\"desc\":lst[d][4] ,\"ts\":lst[d][5] ,\"no\":lst[d][0],\"green\":false}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(n2==null)\n\t\t\tcontinue;\n\t\ts.push(n2);\n\t\ti++;\n\t}\n}\n\nfunction AddLuck(lkm){\t\n\tfor(let i in s){\n\t\tif(s[i].no==lkm.no)\n\t\t\ts[i].green=true;\n\t}\n\tmodal=!modal;\n\tme=lkm;\n\tluckMe=[lkm.no, ...luckMe];\n\tLM.subscribe(localStorage.setItem(\"luckMe\",JSON.stringify(luckMe)));\n}\n\n\nfunction doModal(v){\n\tmodal=!modal;\n\tif(typeof v==\"string\"){\n\t\t//console.log(v);\n\t\tme=null;\n\t\tfor(let i in lst){\n\t\t\tif(v==lst[i][0]){\n\t\t\t\tme={\"dpt\":lst[i][2] ,\"name\":lst[i][3] ,\"desc\":lst[i][4] ,\"ts\":lst[i][5] ,\"no\":lst[i][0]};\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n}\n\nonMount(async () => {\n\tconst res = await fetch(`http://120.26.118.222:5000/rflyts/4`);\n\tlet lty = await res.json();\n\tsoltMax=lty.sn;\n\tlb=lty.cpt;\n\tlst=lty.lst;\n\tInit();\n\t//console.log(JSON.stringify(lst));\n\tlty.lst.map(l=>{\n\t\tall.push(l[6]);\n\t})\n\t//console.log(JSON.stringify(all));\n});\n\n</script>\n<main>\n\t{#if modal}\n\t<div class=\"backdrop\">\n\t\t<div class=\"back\">\n\t\t\t<div class=\"modal\" on:click={doModal}>\n\t\t\t\t<div class=\"info\">\n\t\t\t\t\t<p class=\"who\">{me.dpt} - {me.name}</p>\n\t\t\t\t\t<p class=\"sel\">{lb}-{me.no}</p>\n\t\t\t\t\t<p class=\"why\">{me.desc}</p>\n\t\t\t\t\t<p class=\"when\">{me.ts}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t{/if}\n\t<div class=\"dash\">\n\t\t<div class=\"opt\">\n\t\t\t<span class=\"label\">获奖人数：</span><input type=\"number\" on:keyup={Init} bind:value={luckMax} id=\"luckMax\" class=\"w70\">\n\t\t\t<br/>\n\t\t\t<button on:click={Start}>开 始</button>\n\t\t\t<br/>\n\t\t\t<button on:click={Pause}>停 止</button>\n\t\t\t\n\t\t\t<ul class=\"luckMe\">\n\t\t\t\t<p><b style=\"color:red\">已中奖序列号：</b></p>\n\t\t\t\t{#each luckMe as lm}\n\t\t\t\t\t<li><b on:click={()=>doModal(lm)}>{lb}-{lm}</b></li>\n\t\t\t\t{/each}\n\t\t\t</ul>\n\t\t\t<div class=\"open\">\n\t\t\t\t<a href=\"https://github.com/egotom/LuckyMe/tree/idiot\" target=\"_blank\">开放源代码: https://github.com/egotom/LuckyMe</a>\n\t\t\t</div>\t\t\t\n\t\t</div>\t\t\n\t\t<div class=\"bod\">\n\t\t\t{#each s as lk}\n\t\t\t\t<div><Ticket tick={lk} addOne={AddLuck} cpt={lb}/> </div>\n\t\t\t{/each}\n\t\t</div>\n\t</div>\n</main>\n<style>\n\t.dash{\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 1fr 7fr;\n\t}\n\t.w70{max-width: 70px;}\n\t.label{\n\t\tfont-size: 20px;\n\t\tfont-weight: bold;\n\t\tcolor: rgb(0,0,255);\n\t}\n\t.bod{\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 1fr 1fr;\n\t}\n\n\t.open{\n\t\tmargin-top: 20px;\n\t\theight:30px;\n    \tposition: fixed;\n    \tbottom:10px;\n\t}\n\n\t.backdrop{\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: fixed;\n\t\tbackground: rgb(0,0,0,0.8);\n\t}\n\t.back{\n\t\tborder-radius: 5px;\n\t\twidth: 952px;\n\t\theight: 400px;\n\t\tmargin:5% auto;\n\t\tbackground-color: white;\n\t}\n\n\t.modal{\n\t\tborder-radius: 5px;\n\t\twidth: 952px;\n\t\theight: 400px;\n\t\tbackground-image:url(\"/red.jpg\");\n\t\tbackground-size: cover;\n\t\tfilter:alpha(opacity=60);\n\n\t}\n\t.info p{\n\t\tcolor:#222;\n\t\tfont-size: 40px;\n\t\tfont-weight: bold;\n\t}\n\t.who{\n\t\tmargin-left: 30px;\n\t\tmargin-top: 30px;\n\t\tdisplay: inline-block;\n\t\tmargin-bottom: 0;\n\t}\n\t.sel{\n\t\tfloat:right;\n\t\tmargin-top: 30px;\n\t\tmargin-right: 30px;\n\t\tdisplay: inline-block;\n\t\tmargin-bottom: 0;\n\t}\n\t.why{\n\t\ttext-indent:2em;\n\t\tmargin-top: 20px;\n\t}\n\t.when{\n\t\tfloat:right;\n\t\tmargin-top: 30px;\n\t\tmargin-right: 30px;\n\t\tmargin-bottom: 30;\n\t}\n\t.luckMe{\n\t\tlist-style: none;\n\t\tborder: 1px solid red;\n\t\tpadding: 10px;\n\t\tmargin: 0;\n\t}\n\t.luckMe li b{\n\t\tcolor: rgb(255,0,0);\n\t\tfont-size: 20px;\n\t\tfont-weight: bold;\n\t\ttext-decoration: none;\n\t}\n\t.luckMe li b:hover{\n\t\ttext-decoration: underline;\n\t\tcursor:pointer;\n\t}\n</style>",
    "<script>\r\n\texport let tick={\"dpt\":'',\"name\":'',\"no\":'',\"desc\":'',\"ts\":'',\"green\":true}, addOne=null, cpt=\"\";\r\n</script>\r\n<div class=\"tkt\" class:gr={tick.green}  on:click={()=>addOne(tick)}>\r\n\t<div class=\"hd\">\r\n\t\t<div class=\"to\">{tick.dpt}-{tick.name}</div>\r\n\t\t<div class=\"no\">序列号：{cpt}-{tick.no}</div>\r\n\t</div>\r\n\t<div class=\"why\">{tick.desc}</div>\r\n\t<div class=\"hd\">\r\n\t\t<div></div>\r\n\t\t<div class=\"ts\">{tick.ts}</div>\r\n\t</div>\r\n</div>\r\n\r\n\r\n<style>\r\n\t.tkt{background-color:#cc0066;font-size: 20px;font-weight:bold;color:white;margin:10px;padding: 10px;}\r\n\t.gr{background-color:#009933;font-size: 20px;font-weight:bold;color:white;margin:10px;padding: 10px;}\r\n\t.tkt:hover{background-color: #cc0033;cursor:pointer;}\r\n\t.gr:hover{background-color: #009900;cursor:pointer;}\r\n\t.hd{display: grid;grid-template-columns: 5fr 2fr;}\r\n\t.why{text-indent: 2em;line-height: 200%;}\r\n</style>"
  ],
  "names": [],
  "mappings": "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"
}