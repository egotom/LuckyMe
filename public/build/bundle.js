var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function c(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function r(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function i(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function p(t,e,n,c){return t.addEventListener(e,n,c),()=>t.removeEventListener(e,n,c)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t){return""===t?void 0:+t}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e){(null!=e||t.value)&&(t.value=e)}function y(t,e,n){t.classList[n?"add":"remove"](e)}let k;function b(t){k=t}function $(t){(function(){if(!k)throw new Error("Function called outside component initialization");return k})().$$.on_mount.push(t)}const x=[],q=[],w=[],_=[],O=Promise.resolve();let M=!1;function E(t){w.push(t)}let L=!1;const S=new Set;function z(){if(!L){L=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];b(e),C(e.$$)}for(x.length=0;q.length;)q.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];S.has(e)||(S.add(e),e())}w.length=0}while(x.length);for(;_.length;)_.pop()();M=!1,L=!1,S.clear()}}function C(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const N=new Set;let T;function A(t,e){t&&t.i&&(N.delete(t),t.i(e))}function j(t,e,n,c){if(t&&t.o){if(N.has(t))return;N.add(t),T.c.push(()=>{N.delete(t),c&&(n&&t.d(1),c())}),t.o(e)}}function B(t,n,l){const{fragment:s,on_mount:r,on_destroy:u,after_update:i}=t.$$;s&&s.m(n,l),E(()=>{const n=r.map(e).filter(o);u?u.push(...n):c(n),t.$$.on_mount=[]}),i.forEach(E)}function H(t,e){const n=t.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function I(t,e){-1===t.$$.dirty[0]&&(x.push(t),M||(M=!0,O.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,o,l,s,r,i,a=[-1]){const f=k;b(e);const d=o.props||{},p=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:a};let h=!1;if(p.ctx=l?l(e,d,(t,n,...c)=>{const o=c.length?c[0]:n;return p.ctx&&r(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),h&&I(e,t)),n}):[],p.update(),h=!0,c(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();o.intro&&A(e.$$.fragment),B(e,o.target,o.anchor),z()}b(f)}class F{$destroy(){H(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const P=[];function D(e){let n,c,o,l,i,g,v,k,b,$,x,q,w,_,O,M,E,L,S,z,C,N,T=e[0].dpt+"",A=e[0].name+"",j=e[0].no+"",B=e[0].desc+"",H=e[0].ts+"";return{c(){n=a("div"),c=a("div"),o=a("div"),l=f(T),i=f("-"),g=f(A),v=d(),k=a("div"),b=f("序列号："),$=f(e[2]),x=f("-"),q=f(j),w=d(),_=a("div"),O=f(B),M=d(),E=a("div"),L=a("div"),S=d(),z=a("div"),C=f(H),h(o,"class","to"),h(k,"class","no"),h(c,"class","hd svelte-1i8c8xz"),h(_,"class","why svelte-1i8c8xz"),h(z,"class","ts"),h(E,"class","hd svelte-1i8c8xz"),h(n,"class","tkt svelte-1i8c8xz"),y(n,"gr",e[0].green)},m(t,u,a){r(t,n,u),s(n,c),s(c,o),s(o,l),s(o,i),s(o,g),s(c,v),s(c,k),s(k,b),s(k,$),s(k,x),s(k,q),s(n,w),s(n,_),s(_,O),s(n,M),s(n,E),s(E,L),s(E,S),s(E,z),s(z,C),a&&N(),N=p(n,"click",e[3])},p(t,[e]){1&e&&T!==(T=t[0].dpt+"")&&m(l,T),1&e&&A!==(A=t[0].name+"")&&m(g,A),4&e&&m($,t[2]),1&e&&j!==(j=t[0].no+"")&&m(q,j),1&e&&B!==(B=t[0].desc+"")&&m(O,B),1&e&&H!==(H=t[0].ts+"")&&m(C,H),1&e&&y(n,"gr",t[0].green)},i:t,o:t,d(t){t&&u(n),N()}}}function G(t,e,n){let{tick:c={dpt:"",name:"",no:"",desc:"",ts:"",green:!0}}=e,{addOne:o=null}=e,{cpt:l=""}=e;return t.$set=t=>{"tick"in t&&n(0,c=t.tick),"addOne"in t&&n(1,o=t.addOne),"cpt"in t&&n(2,l=t.cpt)},[c,o,l,()=>o(c)]}class K extends F{constructor(t){super(),J(this,t,G,D,l,{tick:0,addOne:1,cpt:2})}}function Q(t,e,n){const c=t.slice();return c[23]=e[n],c}function R(t,e,n){const c=t.slice();return c[26]=e[n],c}function U(t){let e,n,c,o,l,i,g,v,y,k,b,$,x,q,w,_,O,M,E,L,S=t[2].dpt+"",z=t[2].name+"",C=t[2].no+"",N=t[2].desc+"",T=t[2].ts+"";return{c(){e=a("div"),n=a("div"),c=a("div"),o=a("div"),l=a("p"),i=f(S),g=f(" - "),v=f(z),y=d(),k=a("p"),b=f(t[4]),$=f("-"),x=f(C),q=d(),w=a("p"),_=f(N),O=d(),M=a("p"),E=f(T),h(l,"class","who svelte-ykcqu3"),h(k,"class","sel svelte-ykcqu3"),h(w,"class","why svelte-ykcqu3"),h(M,"class","when svelte-ykcqu3"),h(o,"class","info svelte-ykcqu3"),h(c,"class","modal svelte-ykcqu3"),h(n,"class","back svelte-ykcqu3"),h(e,"class","backdrop svelte-ykcqu3")},m(u,a,f){r(u,e,a),s(e,n),s(n,c),s(c,o),s(o,l),s(l,i),s(l,g),s(l,v),s(o,y),s(o,k),s(k,b),s(k,$),s(k,x),s(o,q),s(o,w),s(w,_),s(o,O),s(o,M),s(M,E),f&&L(),L=p(c,"click",t[10])},p(t,e){4&e&&S!==(S=t[2].dpt+"")&&m(i,S),4&e&&z!==(z=t[2].name+"")&&m(v,z),16&e&&m(b,t[4]),4&e&&C!==(C=t[2].no+"")&&m(x,C),4&e&&N!==(N=t[2].desc+"")&&m(_,N),4&e&&T!==(T=t[2].ts+"")&&m(E,T)},d(t){t&&u(e),L()}}}function V(t){let e,n,c,o,l,i,d=t[26]+"";function g(...e){return t[22](t[26],...e)}return{c(){e=a("li"),n=a("b"),c=f(t[4]),o=f("-"),l=f(d),h(n,"class","svelte-ykcqu3")},m(t,u,a){r(t,e,u),s(e,n),s(n,c),s(n,o),s(n,l),a&&i(),i=p(n,"click",g)},p(e,n){t=e,16&n&&m(c,t[4]),2&n&&d!==(d=t[26]+"")&&m(l,d)},d(t){t&&u(e),i()}}}function W(t){let e,n,c;const o=new K({props:{tick:t[23],addOne:t[9],cpt:t[4]}});return{c(){var t;e=a("div"),(t=o.$$.fragment)&&t.c(),n=d()},m(t,l){r(t,e,l),B(o,e,null),s(e,n),c=!0},p(t,e){const n={};1&e&&(n.tick=t[23]),16&e&&(n.cpt=t[4]),o.$set(n)},i(t){c||(A(o.$$.fragment,t),c=!0)},o(t){j(o.$$.fragment,t),c=!1},d(t){t&&u(e),H(o)}}}function X(t){let e,n,o,l,f,m,y,k,b,$,x,q,w,_,O,M,E,L,S,z,C,N,B,H,I,J=t[3]&&U(t),F=t[1],P=[];for(let e=0;e<F.length;e+=1)P[e]=V(R(t,F,e));let D=t[0],G=[];for(let e=0;e<D.length;e+=1)G[e]=W(Q(t,D,e));const K=t=>j(G[t],1,1,()=>{G[t]=null});return{c(){e=a("main"),J&&J.c(),n=d(),o=a("div"),l=a("div"),f=a("span"),f.textContent="获奖人数：",m=a("input"),y=d(),k=a("br"),b=d(),$=a("button"),$.textContent="开 始",x=d(),q=a("br"),w=d(),_=a("button"),_.textContent="停 止",O=d(),M=a("ul"),E=a("p"),E.innerHTML='<b style="color:red" class="svelte-ykcqu3">已中奖序列号：</b>',L=d();for(let t=0;t<P.length;t+=1)P[t].c();S=d(),z=a("div"),z.innerHTML='<a href="https://github.com/egotom/LuckyMe/tree/idiot" target="_blank">开放源代码: https://github.com/egotom/LuckyMe</a>',C=d(),N=a("div"),B=a("div");for(let t=0;t<G.length;t+=1)G[t].c();h(f,"class","label svelte-ykcqu3"),h(m,"type","number"),h(m,"id","luckMax"),h(m,"class","w70 svelte-ykcqu3"),h($,"class","svelte-ykcqu3"),h(_,"class","svelte-ykcqu3"),h(M,"class","luckMe svelte-ykcqu3"),h(z,"class","open svelte-ykcqu3"),h(B,"class","bod svelte-ykcqu3"),h(o,"class","dash svelte-ykcqu3")},m(u,i,a){r(u,e,i),J&&J.m(e,null),s(e,n),s(e,o),s(o,l),s(l,f),s(l,m),v(m,t[5]),s(l,y),s(l,k),s(l,b),s(l,$),s(l,x),s(l,q),s(l,w),s(l,_),s(l,O),s(l,M),s(M,E),s(M,L);for(let t=0;t<P.length;t+=1)P[t].m(M,null);s(l,S),s(l,z),s(o,C),s(o,N),s(N,B);for(let t=0;t<G.length;t+=1)G[t].m(B,null);H=!0,a&&c(I),I=[p(m,"keyup",t[6]),p(m,"input",t[21]),p($,"click",t[8]),p(_,"click",t[7])]},p(t,[o]){if(t[3]?J?J.p(t,o):(J=U(t),J.c(),J.m(e,n)):J&&(J.d(1),J=null),32&o&&g(m.value)!==t[5]&&v(m,t[5]),1042&o){let e;for(F=t[1],e=0;e<F.length;e+=1){const n=R(t,F,e);P[e]?P[e].p(n,o):(P[e]=V(n),P[e].c(),P[e].m(M,null))}for(;e<P.length;e+=1)P[e].d(1);P.length=F.length}if(529&o){let e;for(D=t[0],e=0;e<D.length;e+=1){const n=Q(t,D,e);G[e]?(G[e].p(n,o),A(G[e],1)):(G[e]=W(n),G[e].c(),A(G[e],1),G[e].m(B,null))}for(T={r:0,c:[],p:T},e=D.length;e<G.length;e+=1)K(e);T.r||c(T.c),T=T.p}},i(t){if(!H){for(let t=0;t<D.length;t+=1)A(G[t]);H=!0}},o(t){G=G.filter(Boolean);for(let t=0;t<G.length;t+=1)j(G[t]);H=!1},d(t){t&&u(e),J&&J.d(),i(P,t),i(G,t),c(I)}}}function Y(e,n,c){let o,s=[],r=[],u=[],i=[],a=!1,f="B",d=1,p=5,h=null;const m=function(e,n=t){let c;const o=[];function s(t){if(l(e,t)&&(e=t,c)){const t=!P.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),P.push(n,e)}if(t){for(let t=0;t<P.length;t+=2)P[t][0](P[t+1]);P.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(l,r=t){const u=[l,r];return o.push(u),1===o.length&&(c=n(s)||t),l(e),()=>{const t=o.indexOf(u);-1!==t&&o.splice(t,1),0===o.length&&(c(),c=null)}}}}(JSON.parse(localStorage.getItem("luckMe"))||[]),v=m.subscribe(t=>{c(1,r=t)});function y(){c(0,s=[]);for(let t=0;t<p;t++)s.push({dpt:"",name:"",desc:"",ts:"",no:"",green:!0})}function k(t){if(c(3,a=!a),"string"==typeof t){c(2,u=null);for(let e in o)if(t==o[e][0]){c(2,u={dpt:o[e][2],name:o[e][3],desc:o[e][4],ts:o[e][5],no:o[e][0]});break}}}$(async()=>{const t=await fetch("http://120.26.118.222:5000/rflyts/4");let e=await t.json();d=e.sn,c(4,f=e.cpt),o=e.lst,y(),e.lst.map(t=>{i.push(t[6])})});return[s,r,u,a,f,p,y,function(){window.clearTimeout(h),h=null},function t(){c(0,s=[]);let e=[];h=window.setTimeout(t,2);for(let t=0;t<p;){let n="";for(let t=0;t<d;t++){n+=Math.floor(10*Math.random()).toString()}if(r.indexOf(n)>-1||-1==i.indexOf(n)||e.length>0&&e.indexOf(n)>-1)continue;let c=null;for(let t in o)if(o[t][6]==n){c={dpt:o[t][2],name:o[t][3],desc:o[t][4],ts:o[t][5],no:o[t][0],green:!1};break}null!=c&&(s.push(c),e.push(n),t++)}},function(t){for(let e in s)s[e].no==t.no&&c(0,s[e].green=!0,s);c(3,a=!a),c(2,u=t),c(1,r=[t.no,...r]),m.subscribe(localStorage.setItem("luckMe",JSON.stringify(r)))},k,o,d,h,33333,i,!1,"","",m,v,function(){p=g(this.value),c(5,p)},t=>k(t)]}return new class extends F{constructor(t){super(),J(this,t,Y,X,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
