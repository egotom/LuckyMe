var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function c(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n){t.appendChild(n)}function r(t,n,e){t.insertBefore(n,e||null)}function i(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(){return a(" ")}function d(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function g(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function p(t){return""===t?void 0:+t}function h(t,n){n=""+n,t.data!==n&&(t.data=n)}function m(t,n){(null!=n||t.value)&&(t.value=n)}function v(t,n,e){t.classList[e?"add":"remove"](n)}let b;function y(t){b=t}function $(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const k=[],x=[],w=[],_=[],O=Promise.resolve();let M=!1;function E(t){w.push(t)}let j=!1;const S=new Set;function L(){if(!j){j=!0;do{for(let t=0;t<k.length;t+=1){const n=k[t];y(n),C(n.$$)}for(k.length=0;x.length;)x.pop()();for(let t=0;t<w.length;t+=1){const n=w[t];S.has(n)||(S.add(n),n())}w.length=0}while(k.length);for(;_.length;)_.pop()();M=!1,j=!1,S.clear()}}function C(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const N=new Set;let A;function T(t,n){t&&t.i&&(N.delete(t),t.i(n))}function B(t,n,e,o){if(t&&t.o){if(N.has(t))return;N.add(t),A.c.push(()=>{N.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function I(t,e,l){const{fragment:s,on_mount:r,on_destroy:i,after_update:u}=t.$$;s&&s.m(e,l),E(()=>{const e=r.map(n).filter(c);i?i.push(...e):o(e),t.$$.on_mount=[]}),u.forEach(E)}function J(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function q(t,n){-1===t.$$.dirty[0]&&(k.push(t),M||(M=!0,O.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function z(n,c,l,s,r,u,a=[-1]){const f=b;y(n);const d=c.props||{},g=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:r,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:e(),dirty:a};let p=!1;if(g.ctx=l?l(n,d,(t,e,...o)=>{const c=o.length?o[0]:e;return g.ctx&&r(g.ctx[t],g.ctx[t]=c)&&(g.bound[t]&&g.bound[t](c),p&&q(n,t)),e}):[],g.update(),p=!0,o(g.before_update),g.fragment=!!s&&s(g.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);g.fragment&&g.fragment.l(t),t.forEach(i)}else g.fragment&&g.fragment.c();c.intro&&T(n.$$.fragment),I(n,c.target,c.anchor),L()}y(f)}class F{$destroy(){J(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const H=[];function P(n){let e,o,c,l,p,m,b,y,$,k,x,w,_,O,M,E,j,S,L,C,N,A,T=n[0].dpt+"",B=n[0].name+"",I=n[0].no+"",J=n[0].desc+"",q=n[0].ts+"";return{c(){e=u("div"),o=u("div"),c=u("div"),l=a(T),p=a("-"),m=a(B),b=f(),y=u("div"),$=a("序列号："),k=a(n[2]),x=a("-"),w=a(I),_=f(),O=u("div"),M=a(J),E=f(),j=u("div"),S=u("div"),L=f(),C=u("div"),N=a(q),g(c,"class","to"),g(y,"class","no"),g(o,"class","hd svelte-1p4s9xj"),g(O,"class","why svelte-1p4s9xj"),g(C,"class","ts"),g(j,"class","hd svelte-1p4s9xj"),g(e,"class","tkt svelte-1p4s9xj"),v(e,"gr",n[0].green)},m(t,i,u){r(t,e,i),s(e,o),s(o,c),s(c,l),s(c,p),s(c,m),s(o,b),s(o,y),s(y,$),s(y,k),s(y,x),s(y,w),s(e,_),s(e,O),s(O,M),s(e,E),s(e,j),s(j,S),s(j,L),s(j,C),s(C,N),u&&A(),A=d(e,"click",n[3])},p(t,[n]){1&n&&T!==(T=t[0].dpt+"")&&h(l,T),1&n&&B!==(B=t[0].name+"")&&h(m,B),4&n&&h(k,t[2]),1&n&&I!==(I=t[0].no+"")&&h(w,I),1&n&&J!==(J=t[0].desc+"")&&h(M,J),1&n&&q!==(q=t[0].ts+"")&&h(N,q),1&n&&v(e,"gr",t[0].green)},i:t,o:t,d(t){t&&i(e),A()}}}function D(t,n,e){let{tick:o={dpt:"",name:"",no:"",desc:"",ts:"",green:!0}}=n,{addOne:c=null}=n,{cpt:l=""}=n;return t.$set=t=>{"tick"in t&&e(0,o=t.tick),"addOne"in t&&e(1,c=t.addOne),"cpt"in t&&e(2,l=t.cpt)},[o,c,l,()=>c(o)]}class G extends F{constructor(t){super(),z(this,t,D,P,l,{tick:0,addOne:1,cpt:2})}}function K(t,n,e){const o=t.slice();return o[21]=n[e],o}function Q(t){let n,e,o,c,l,p,m,v,b,y,$,k,x,w,_,O,M,E,j,S,L=t[1].dpt+"",C=t[1].name+"",N=t[1].no+"",A=t[1].desc+"",T=t[1].ts+"";return{c(){n=u("div"),e=u("div"),o=u("div"),c=u("div"),l=u("p"),p=a(L),m=a(" - "),v=a(C),b=f(),y=u("p"),$=a(t[3]),k=a("-"),x=a(N),w=f(),_=u("p"),O=a(A),M=f(),E=u("p"),j=a(T),g(l,"class","who svelte-oboggy"),g(y,"class","sel svelte-oboggy"),g(_,"class","why svelte-oboggy"),g(E,"class","when svelte-oboggy"),g(c,"class","info svelte-oboggy"),g(o,"class","modal svelte-oboggy"),g(e,"class","back svelte-oboggy"),g(n,"class","backdrop svelte-oboggy")},m(i,u,a){r(i,n,u),s(n,e),s(e,o),s(o,c),s(c,l),s(l,p),s(l,m),s(l,v),s(c,b),s(c,y),s(y,$),s(y,k),s(y,x),s(c,w),s(c,_),s(_,O),s(c,M),s(c,E),s(E,j),a&&S(),S=d(o,"click",t[9])},p(t,n){2&n&&L!==(L=t[1].dpt+"")&&h(p,L),2&n&&C!==(C=t[1].name+"")&&h(v,C),8&n&&h($,t[3]),2&n&&N!==(N=t[1].no+"")&&h(x,N),2&n&&A!==(A=t[1].desc+"")&&h(O,A),2&n&&T!==(T=t[1].ts+"")&&h(j,T)},d(t){t&&i(n),S()}}}function R(t){let n,e,o;const c=new G({props:{tick:t[21],addOne:t[8],cpt:t[3]}});return{c(){var t;n=u("div"),(t=c.$$.fragment)&&t.c(),e=f()},m(t,l){r(t,n,l),I(c,n,null),s(n,e),o=!0},p(t,n){const e={};1&n&&(e.tick=t[21]),8&n&&(e.cpt=t[3]),c.$set(e)},i(t){o||(T(c.$$.fragment,t),o=!0)},o(t){B(c.$$.fragment,t),o=!1},d(t){t&&i(n),J(c)}}}function U(t){let n,e,c,l,a,h,v,b,y,$,k,x,w,_,O,M,E,j,S,L,C=t[2]&&Q(t),N=t[0],I=[];for(let n=0;n<N.length;n+=1)I[n]=R(K(t,N,n));const J=t=>B(I[t],1,1,()=>{I[t]=null});return{c(){n=u("main"),C&&C.c(),e=f(),c=u("div"),l=u("div"),a=u("span"),a.textContent="获奖人数：",h=u("input"),v=f(),b=u("br"),y=f(),$=u("button"),$.textContent="开 始",k=f(),x=u("br"),w=f(),_=u("button"),_.textContent="停 止",O=f(),M=u("div"),M.innerHTML='<a href="https://github.com/egotom/LuckyMe" target="_blank">开放源代码: github.com/egotom/LuckyMe</a>',E=f(),j=u("div");for(let t=0;t<I.length;t+=1)I[t].c();g(a,"class","label svelte-oboggy"),g(h,"type","number"),g(h,"id","luckMax"),g(h,"class","w70 svelte-oboggy"),g(M,"class","open svelte-oboggy"),g(l,"class","opt"),g(j,"class","bod svelte-oboggy"),g(c,"class","dash svelte-oboggy")},m(i,u,f){r(i,n,u),C&&C.m(n,null),s(n,e),s(n,c),s(c,l),s(l,a),s(l,h),m(h,t[4]),s(l,v),s(l,b),s(l,y),s(l,$),s(l,k),s(l,x),s(l,w),s(l,_),s(l,O),s(l,M),s(c,E),s(c,j);for(let t=0;t<I.length;t+=1)I[t].m(j,null);S=!0,f&&o(L),L=[d(h,"keyup",t[5]),d(h,"input",t[20]),d($,"click",t[7]),d(_,"click",t[6])]},p(t,[c]){if(t[2]?C?C.p(t,c):(C=Q(t),C.c(),C.m(n,e)):C&&(C.d(1),C=null),16&c&&p(h.value)!==t[4]&&m(h,t[4]),265&c){let n;for(N=t[0],n=0;n<N.length;n+=1){const e=K(t,N,n);I[n]?(I[n].p(e,c),T(I[n],1)):(I[n]=R(e),I[n].c(),T(I[n],1),I[n].m(j,null))}for(A={r:0,c:[],p:A},n=N.length;n<I.length;n+=1)J(n);A.r||o(A.c),A=A.p}},i(t){if(!S){for(let t=0;t<N.length;t+=1)T(I[t]);S=!0}},o(t){I=I.filter(Boolean);for(let t=0;t<I.length;t+=1)B(I[t]);S=!1},d(t){t&&i(n),C&&C.d(),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(I,t),o(L)}}}function V(n,e,o){let c,s=[],r=[],i=[],u=!1,a="B",f=1,d=5,g=null;const h=function(n,e=t){let o;const c=[];function s(t){if(l(n,t)&&(n=t,o)){const t=!H.length;for(let t=0;t<c.length;t+=1){const e=c[t];e[1](),H.push(e,n)}if(t){for(let t=0;t<H.length;t+=2)H[t][0](H[t+1]);H.length=0}}}return{set:s,update:function(t){s(t(n))},subscribe:function(l,r=t){const i=[l,r];return c.push(i),1===c.length&&(o=e(s)||t),l(n),()=>{const t=c.indexOf(i);-1!==t&&c.splice(t,1),0===c.length&&(o(),o=null)}}}}(JSON.parse(localStorage.getItem("luckMe"))||[]),m=h.subscribe(t=>{r=t});function v(){o(0,s=[]);for(let t=0;t<d;t++)s.push({dpt:"",name:"",desc:"",ts:"",no:"",green:!0})}return $(async()=>{const t=await fetch("http://120.26.118.222:5000/rflyts/4");let n=await t.json();f=n.sn,o(3,a=n.cpt),c=n.lst,v()}),[s,i,u,a,d,v,function(){window.clearTimeout(g),g=null},function t(){o(0,s=[]),g=window.setTimeout(t,2);for(let t=0;t<d;){let n="";for(let t=0;t<f;t++){n+=Math.floor(10*Math.random()).toString()}if(r.indexOf(n)>-1)continue;let e=null;for(let t in c)if(c[t][0]==n){e={dpt:c[t][2],name:c[t][3],desc:c[t][4],ts:c[t][5],no:c[t][0],green:!1};break}null!=e&&(s.push(e),t++)}},function(t){for(let n in s)s[n].no==t.no&&o(0,s[n].green=!0,s);o(2,u=!u),o(1,i=t),r=[t.no,...r],h.subscribe(localStorage.setItem("luckMe",JSON.stringify(r)))},function(t){o(2,u=!u)},r,c,f,g,33333,!1,"","",h,m,function(){d=p(this.value),o(4,d)}]}return new class extends F{constructor(t){super(),z(this,t,V,U,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
